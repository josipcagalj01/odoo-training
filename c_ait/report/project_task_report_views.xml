<odoo>
    <record id="view_c_ait_project_task_report_pivot" model="ir.ui.view">
        <field name="name">c.ait.project.task.report.pivot</field>
        <field name="model">c.ait.project.task.report</field>
        <field name="arch" type="xml">
            <pivot string="Project Task Report">
                <field name="name" type="row"/>
                <field name="parent_id" type="row" invisible="parent_id == False"/>
                <field name="project_id" type="row"/>
                <field name="milestone_id" type="row"/>
                <field name="allocated_hours" type="measure"/>
                <field name="remaining_hours" type="measure"/>
            </pivot>
        </field>
    </record>
    <data>
        <record id="view_c_ait_project_task_report_search" model="ir.ui.view">
            <field name="name">c.ait.project.task.report.search</field>
            <field name="model">c.ait.project.task.report</field>
            <field name="arch" type="xml">
        <search string="Project Task Report Search">



          <field name="project_id"/>
          <field name="parent_id"/>
            <field name="milestone_id" />


          <group expand="0" string="Group By">
              <filter name="group_by_project" string="Project" context="{'group_by': 'project_id'}"/>
              <filter name="group_by_task" string="Parent Task" context="{'group_by': 'parent_id'}"/>
              <filter name="group_by_milestone" string="Milestone" context="{'group_by': 'milestone_id'}"/>
          </group>

        </search>
      </field>
    </record>
  </data>

    <record id="action_c_ait_project_task_report" model="ir.actions.act_window">
        <field name="name">Project Task Report</field>
        <field name="res_model">c.ait.project.task.report</field>
        <field name="view_id" ref="view_c_ait_project_task_report_pivot"/>
        <field name="view_mode">pivot</field>
        <field name="help" type="html">
            <p>Project tasks lines grouped by project, and parent task.</p>
        </field>
    </record>
    <menuitem id="menu_c_ait_project_task_report"
          name="Project Task Report"
          parent="project.menu_project_report"
          action="action_c_ait_project_task_report"
          sequence="11"
    />
</odoo>